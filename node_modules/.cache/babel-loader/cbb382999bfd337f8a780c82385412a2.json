{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs2/helpers/interopRequireDefault\");\n\nvar _Reflect$construct = require(\"@babel/runtime-corejs2/core-js/reflect/construct\");\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs2/helpers/esm/toConsumableArray\"));\n\nvar _set = _interopRequireDefault(require(\"@babel/runtime-corejs2/core-js/set\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = require(\"react\");\n\nvar isServer = typeof window === 'undefined';\n\nfunction withSideEffect() {\n  var mountedInstances = new _set.default();\n  var state;\n\n  function emitChange(component) {\n    state = component.props.reduceComponentsToState((0, _toConsumableArray2.default)(mountedInstances), component.props);\n\n    if (component.props.handleStateChange) {\n      component.props.handleStateChange(state);\n    }\n  }\n\n  var SideEffect = /*#__PURE__*/function (_react_1$Component) {\n    (0, _inherits2.default)(SideEffect, _react_1$Component);\n\n    var _super = _createSuper(SideEffect);\n\n    function SideEffect(props) {\n      var _this;\n\n      (0, _classCallCheck2.default)(this, SideEffect);\n      _this = _super.call(this, props);\n\n      if (isServer) {\n        mountedInstances.add((0, _assertThisInitialized2.default)(_this));\n        emitChange((0, _assertThisInitialized2.default)(_this));\n      }\n\n      return _this;\n    }\n\n    (0, _createClass2.default)(SideEffect, [{\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        mountedInstances.add(this);\n        emitChange(this);\n      }\n    }, {\n      key: \"componentDidUpdate\",\n      value: function componentDidUpdate() {\n        emitChange(this);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        mountedInstances.delete(this);\n        emitChange(this);\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        return null;\n      }\n    }], [{\n      key: \"rewind\",\n      value: // Used when server rendering\n      function rewind() {\n        var recordedState = state;\n        state = undefined;\n        mountedInstances.clear();\n        return recordedState;\n      }\n    }]);\n    return SideEffect;\n  }(react_1.Component);\n\n  return SideEffect;\n}\n\nexports.default = withSideEffect;","map":{"version":3,"sources":["C:/Users/User/Desktop/FYP/FYP1/HalalLogistic/node_modules/next-server/dist/lib/side-effect.js"],"names":["Object","defineProperty","exports","value","react_1","require","isServer","window","withSideEffect","mountedInstances","state","emitChange","component","props","reduceComponentsToState","handleStateChange","SideEffect","add","delete","recordedState","undefined","clear","Component","default"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAAC,OAAD,CAAvB;;AACA,IAAMC,QAAQ,GAAG,OAAOC,MAAP,KAAkB,WAAnC;;AACA,SAASC,cAAT,GAA0B;AACtB,MAAMC,gBAAgB,GAAG,kBAAzB;AACA,MAAIC,KAAJ;;AACA,WAASC,UAAT,CAAoBC,SAApB,EAA+B;AAC3BF,IAAAA,KAAK,GAAGE,SAAS,CAACC,KAAV,CAAgBC,uBAAhB,kCAA4CL,gBAA5C,GAA+DG,SAAS,CAACC,KAAzE,CAAR;;AACA,QAAID,SAAS,CAACC,KAAV,CAAgBE,iBAApB,EAAuC;AACnCH,MAAAA,SAAS,CAACC,KAAV,CAAgBE,iBAAhB,CAAkCL,KAAlC;AACH;AACJ;;AARqB,MAShBM,UATgB;AAAA;;AAAA;;AAiBlB,wBAAYH,KAAZ,EAAmB;AAAA;;AAAA;AACf,gCAAMA,KAAN;;AACA,UAAIP,QAAJ,EAAc;AACVG,QAAAA,gBAAgB,CAACQ,GAAjB;AACAN,QAAAA,UAAU,6CAAV;AACH;;AALc;AAMlB;;AAvBiB;AAAA;AAAA,aAwBlB,6BAAoB;AAChBF,QAAAA,gBAAgB,CAACQ,GAAjB,CAAqB,IAArB;AACAN,QAAAA,UAAU,CAAC,IAAD,CAAV;AACH;AA3BiB;AAAA;AAAA,aA4BlB,8BAAqB;AACjBA,QAAAA,UAAU,CAAC,IAAD,CAAV;AACH;AA9BiB;AAAA;AAAA,aA+BlB,gCAAuB;AACnBF,QAAAA,gBAAgB,CAACS,MAAjB,CAAwB,IAAxB;AACAP,QAAAA,UAAU,CAAC,IAAD,CAAV;AACH;AAlCiB;AAAA;AAAA,aAmClB,kBAAS;AACL,eAAO,IAAP;AACH;AArCiB;AAAA;AAAA,aAUlB;AACA,wBAAgB;AACZ,YAAMQ,aAAa,GAAGT,KAAtB;AACAA,QAAAA,KAAK,GAAGU,SAAR;AACAX,QAAAA,gBAAgB,CAACY,KAAjB;AACA,eAAOF,aAAP;AACH;AAhBiB;AAAA;AAAA,IASGf,OAAO,CAACkB,SATX;;AAuCtB,SAAON,UAAP;AACH;;AACDd,OAAO,CAACqB,OAAR,GAAkBf,cAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst react_1 = require(\"react\");\nconst isServer = typeof window === 'undefined';\nfunction withSideEffect() {\n    const mountedInstances = new Set();\n    let state;\n    function emitChange(component) {\n        state = component.props.reduceComponentsToState([...mountedInstances], component.props);\n        if (component.props.handleStateChange) {\n            component.props.handleStateChange(state);\n        }\n    }\n    class SideEffect extends react_1.Component {\n        // Used when server rendering\n        static rewind() {\n            const recordedState = state;\n            state = undefined;\n            mountedInstances.clear();\n            return recordedState;\n        }\n        constructor(props) {\n            super(props);\n            if (isServer) {\n                mountedInstances.add(this);\n                emitChange(this);\n            }\n        }\n        componentDidMount() {\n            mountedInstances.add(this);\n            emitChange(this);\n        }\n        componentDidUpdate() {\n            emitChange(this);\n        }\n        componentWillUnmount() {\n            mountedInstances.delete(this);\n            emitChange(this);\n        }\n        render() {\n            return null;\n        }\n    }\n    return SideEffect;\n}\nexports.default = withSideEffect;\n"]},"metadata":{},"sourceType":"script"}