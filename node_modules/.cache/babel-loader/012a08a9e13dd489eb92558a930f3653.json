{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, Menu, useEffect } from 'react';\nimport { unmountComponentAtNode, render } from 'react-dom';\nimport { Button, Table, Dropdown, Form, Select, Grid, Cell, Item } from 'semantic-ui-react';\nimport Input from '../../ethereum/container';\nimport RequestShow from '../../components/RequestShow';\nimport Layout from '../../components/Layout';\nimport DataTable from 'react-data-table-component';\nstate = {\n  temp: [{\n    cID: '',\n    HalStatus: '',\n    Booked: '',\n    SDate: '',\n    EDate: '',\n    Product: '',\n    Quantity: ''\n  }]\n};\nvar data = [{\n  cID: '',\n  HalStatus: '',\n  Booked: '',\n  SDate: '',\n  EDate: '',\n  Product: '',\n  Quantity: ''\n}];\nvar count = 0;\nvar option2 = [{\n  key: 'AB',\n  text: 'Available',\n  value: 'Available'\n}, {\n  key: 'NAB',\n  text: 'Non-Available',\n  value: 'Non-Available'\n}, {\n  key: 'D',\n  text: 'Destroy',\n  value: 'Destroy'\n}];\nvar columns = [{\n  name: 'ID',\n  selector: function selector(row) {\n    return row.cID;\n  }\n}, {\n  name: 'Halal',\n  selector: function selector(row) {\n    return row.HalStatus;\n  }\n}, {\n  name: 'Status',\n  selector: function selector(row) {\n    return row.Booked;\n  }\n}, {\n  name: 'Start Date',\n  selector: function selector(row) {\n    return row.SDate;\n  }\n}];\n\nvar showCont = /*#__PURE__*/function (_Component) {\n  _inherits(showCont, _Component);\n\n  var _super = _createSuper(showCont);\n\n  function showCont() {\n    _classCallCheck(this, showCont);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(showCont, [{\n    key: \"onChangedStatus\",\n    value: // renderShow(){\n    //     return data.map((cont, index) => {\n    //         return (\n    //             <RequestShow\n    //                 id={index}\n    //                 request={cont}\n    //             />\n    //         );\n    //     });\n    // }\n    function onChangedStatus(event) {\n      this.state.temp = [{\n        cID: '',\n        HalStatus: '',\n        Booked: '',\n        SDate: '',\n        EDate: '',\n        Product: '',\n        Quantity: ''\n      }];\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i][0].Booked == event.target.value) {\n          this.state.temp.push(data[i]);\n        }\n\n        ;\n      }\n\n      this.renderShow();\n    } //   filterData(event){\n    //     temp =  []\n    //     for (var i = 0; i < data.length; i++){\n    //         if (data[i][0].Booked == event.target.value){\n    //             temp.push(data[i])\n    //         };\n    //     } \n    //     return this.props.container.map((temp, index) => {\n    //         return (\n    //             <RequestShow\n    //                 id={index}\n    //                 data={temp}\n    //             />\n    //         );\n    //     });       \n    //   }\n\n  }, {\n    key: \"renderShow\",\n    value: function renderShow() {\n      this.state.temp = [{\n        cID: '',\n        HalStatus: '',\n        Booked: '',\n        SDate: '',\n        EDate: '',\n        Product: '',\n        Quantity: ''\n      }];\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i][0].HalStatus == 'Halal') {\n          this.state.temp.push(data[i]);\n        }\n\n        ;\n      }\n\n      unmountComponentAtNode(document.getElementById('div1'));\n      return this.state.temp.map(function (temp, index) {\n        return /*#__PURE__*/React.createElement(RequestShow, {\n          id: index,\n          cID: temp[0].cID,\n          HalStatus: temp[0].HalStatus,\n          Booked: temp[0].Booked,\n          SDate: temp[0].SDate,\n          EDate: temp[0].EDate,\n          Product: temp[0].Product,\n          Quantity: temp[0].Quantity\n        });\n      });\n      console.log(temp);\n      console.log('xxx');\n      console.log(data); //     return temp.map((temp, index) => {\n      //         return (\n      //               <Row>\n      //                 <Cell>temp[0].cID</Cell>\n      //                 <Table.Cell>Selected</Table.Cell>\n      //                 <Table.Cell>None</Table.Cell>\n      //               </Row>\n      //         );\n      //     });\n    }\n  }, {\n    key: \"getContainerInfo\",\n    value: function getContainerInfo() {\n      var _this = this;\n\n      return this.props.container.find(function (request, index) {\n        {\n          _this.renderTable(request, index);\n        }\n      });\n    }\n  }, {\n    key: \"renderTable\",\n    value: function renderTable(request, i) {\n      data[i] = [{\n        cID: request._ContainerNo,\n        HalStatus: request._HalalStatus,\n        Booked: request._booked,\n        SDate: request._StartDate,\n        EDate: request._EndDate,\n        Product: request._ProductName,\n        Quantity: request._Quantity\n      }];\n      this.setState({\n        temp: data\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var Header = Table.Header,\n          Row = Table.Row,\n          HeaderCell = Table.HeaderCell,\n          Body = Table.Body;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          backgroundImage: \"url('https://images.pexels.com/photos/1095814/pexels-photo-1095814.jpeg')\",\n          height: '100vh',\n          backgroundSize: 'cover',\n          backgroundRepeat: 'no-repeat'\n        }\n      }, /*#__PURE__*/React.createElement(Layout, null, /*#__PURE__*/React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css\"\n      }), /*#__PURE__*/React.createElement(\"span\", null, \" \"), /*#__PURE__*/React.createElement(\"h3\", {\n        align: \"center\",\n        style: {\n          color: '#ffffff',\n          fontWeight: 'bold'\n        }\n      }, \"Container Details\"), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginLeft: '80px',\n          marginRight: '80px'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          color: '#ffffff',\n          fontWeight: 'bold',\n          width: '200px'\n        }\n      }, /*#__PURE__*/React.createElement(Form, null, /*#__PURE__*/React.createElement(\"label\", {\n        style: {\n          color: '#ffffff',\n          fontWeight: 'bold'\n        }\n      }, \" Status \"), /*#__PURE__*/React.createElement(Form.Field, {\n        control: Select,\n        options: option2,\n        onChange: this.onChangedStatus\n      }))), /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(Header, null, /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(HeaderCell, null, \"ID\"), /*#__PURE__*/React.createElement(HeaderCell, null, \"Container ID\"), /*#__PURE__*/React.createElement(HeaderCell, null, \"Halal status\"), /*#__PURE__*/React.createElement(HeaderCell, null, \"Status\"), /*#__PURE__*/React.createElement(HeaderCell, null, \"Start Date\"), /*#__PURE__*/React.createElement(HeaderCell, null, \"End Date\"), /*#__PURE__*/React.createElement(HeaderCell, null, \"Product Name\"), /*#__PURE__*/React.createElement(HeaderCell, null, \"Quantity\"))), /*#__PURE__*/React.createElement(Body, null, this.getContainerInfo(), this.renderShow(), this.renderShow()))), /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(DataTable, {\n        columns: columns,\n        data: this.state.temp\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var contCount, container;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Input.methods.getContainerCount().call();\n\n              case 2:\n                contCount = _context.sent;\n                _context.next = 5;\n                return _Promise.all(Array(_parseInt(contCount)).fill().map(function (element, index) {\n                  return Input.methods.container(index).call();\n                }));\n\n              case 5:\n                container = _context.sent;\n                return _context.abrupt(\"return\", {\n                  container: container,\n                  contCount: contCount\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return showCont;\n}(Component);\n\nexport default showCont;","map":{"version":3,"sources":["C:/Users/User/Desktop/FYP/FYP1/HalalLogistic/pages/form/showContainer.js"],"names":["React","Component","Menu","useEffect","unmountComponentAtNode","render","Button","Table","Dropdown","Form","Select","Grid","Cell","Item","Input","RequestShow","Layout","DataTable","state","temp","cID","HalStatus","Booked","SDate","EDate","Product","Quantity","data","count","option2","key","text","value","columns","name","selector","row","showCont","event","i","length","target","push","renderShow","document","getElementById","map","index","console","log","props","container","find","request","renderTable","_ContainerNo","_HalalStatus","_booked","_StartDate","_EndDate","_ProductName","_Quantity","setState","Header","Row","HeaderCell","Body","backgroundImage","height","backgroundSize","backgroundRepeat","color","fontWeight","marginLeft","marginRight","width","onChangedStatus","getContainerInfo","methods","getContainerCount","call","contCount","all","Array","fill","element"],"mappings":"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","sourcesContent":["import React, { Component, Menu, useEffect } from 'react';\r\nimport {unmountComponentAtNode, render} from 'react-dom';\r\nimport { Button, Table, Dropdown, Form, Select, Grid , Cell, Item} from 'semantic-ui-react';\r\nimport Input from '../../ethereum/container';\r\nimport RequestShow from '../../components/RequestShow';\r\nimport Layout from '../../components/Layout';\r\nimport DataTable from 'react-data-table-component';\r\n\r\n\r\n    state = {\r\n    temp: [\r\n        {cID:'', HalStatus:'', Booked:'', SDate:'', EDate:'', Product:'', Quantity:''}\r\n    ]\r\n    }\r\n\r\nvar data= [\r\n    {cID:'', HalStatus:'', Booked:'', SDate:'', EDate:'', Product:'', Quantity:''}\r\n]\r\n\r\nvar count = 0;\r\n\r\nconst option2 = [\r\n    { key: 'AB', text: 'Available', value: 'Available' },\r\n    { key: 'NAB', text: 'Non-Available', value: 'Non-Available' },\r\n    { key: 'D', text: 'Destroy', value: 'Destroy' }\r\n]\r\n\r\nconst columns = [\r\n    {\r\n        name:'ID',\r\n        selector:(row) => row.cID,\r\n    },\r\n\r\n    {\r\n        name:'Halal',\r\n        selector:(row) => row.HalStatus,\r\n    },\r\n\r\n    {\r\n        name:'Status',\r\n        selector:(row) => row.Booked,\r\n    },\r\n\r\n    {\r\n        name:'Start Date',\r\n        selector:(row) => row.SDate,\r\n    },\r\n\r\n\r\n];\r\n\r\nclass showCont extends Component{\r\n\r\n    static async getInitialProps(){\r\n     \r\n        const contCount = await Input.methods.getContainerCount().call();\r\n\r\n        const container = await Promise.all(\r\n            Array(parseInt(contCount)).fill().map((element, index) => {\r\n                return Input.methods.container(index).call()\r\n            })\r\n        );\r\n        return {container, contCount};\r\n\r\n    }\r\n\r\n\r\n    // renderShow(){\r\n    //     return data.map((cont, index) => {\r\n    //         return (\r\n    //             <RequestShow\r\n    //                 id={index}\r\n    //                 request={cont}\r\n    //             />\r\n    //         );\r\n    //     });\r\n    // }\r\n\r\n    onChangedStatus (event){\r\n        this.state.temp =  [\r\n            {cID:'', HalStatus:'', Booked:'', SDate:'', EDate:'', Product:'', Quantity:''}\r\n        ]\r\n        for (var i = 0; i < data.length; i++){\r\n            if (data[i][0].Booked == event.target.value){\r\n                this.state.temp.push(data[i])\r\n            };\r\n        }   \r\n        this.renderShow();\r\n    }\r\n\r\n    //   filterData(event){\r\n    //     temp =  []\r\n    //     for (var i = 0; i < data.length; i++){\r\n    //         if (data[i][0].Booked == event.target.value){\r\n    //             temp.push(data[i])\r\n    //         };\r\n    //     } \r\n        \r\n    //     return this.props.container.map((temp, index) => {\r\n    //         return (\r\n    //             <RequestShow\r\n    //                 id={index}\r\n    //                 data={temp}\r\n    //             />\r\n    //         );\r\n    //     });       \r\n    //   }\r\n      \r\n      renderShow(){\r\n        \r\n        this.state.temp =  [\r\n            {cID:'', HalStatus:'', Booked:'', SDate:'', EDate:'', Product:'', Quantity:''}\r\n        ]\r\n        for (var i = 0; i < data.length; i++){\r\n            if (data[i][0].HalStatus == 'Halal'){\r\n                this.state.temp.push(data[i])\r\n            };\r\n        }  \r\n            unmountComponentAtNode(document.getElementById('div1'))\r\n        \r\n        return this.state.temp.map((temp, index) => {\r\n            return (\r\n                <RequestShow\r\n                    id={index}\r\n                    cID={temp[0].cID}\r\n                    HalStatus={temp[0].HalStatus}\r\n                    Booked={temp[0].Booked}\r\n                    SDate={temp[0].SDate}\r\n                    EDate={temp[0].EDate}\r\n                    Product={temp[0].Product}\r\n                    Quantity={temp[0].Quantity}\r\n                />\r\n            );\r\n        });\r\n        \r\n        \r\n        console.log(temp)\r\n        console.log('xxx')\r\n        console.log(data)\r\n    //     return temp.map((temp, index) => {\r\n    //         return (\r\n\r\n    //               <Row>\r\n    //                 <Cell>temp[0].cID</Cell>\r\n    //                 <Table.Cell>Selected</Table.Cell>\r\n    //                 <Table.Cell>None</Table.Cell>\r\n    //               </Row>\r\n                \r\n               \r\n    //         );\r\n    //     });\r\n      }\r\n\r\n      getContainerInfo(){\r\n         return this.props.container.find((request, index) => {\r\n            {this.renderTable(request, index)}\r\n         });\r\n    \r\n     }\r\n\r\n    renderTable(request, i){\r\n\r\n        data[i] = [\r\n            {cID:request._ContainerNo, HalStatus:request._HalalStatus, Booked:request._booked, SDate:request._StartDate, EDate:request._EndDate, Product:request._ProductName, Quantity:request._Quantity}\r\n        ]\r\n        this.setState({temp: data})\r\n    }\r\n\r\n    render(){\r\n\r\n        const { Header, Row, HeaderCell, Body} = Table;\r\n\r\n        return(\r\n            <div style={{ backgroundImage:\"url('https://images.pexels.com/photos/1095814/pexels-photo-1095814.jpeg')\", \r\n            height:'100vh',\r\n            backgroundSize: 'cover',\r\n            backgroundRepeat: 'no-repeat'}}>\r\n        <Layout>\r\n\r\n            <link rel=\"stylesheet\" href=\"//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.12/semantic.min.css\"/>\r\n            <span> </span>\r\n            <h3 align=\"center\" style={{color:'#ffffff', fontWeight:'bold'}} >Container Details</h3>\r\n            <div style={{marginLeft:'80px', marginRight:'80px'}}>\r\n            <div style={{color:'#ffffff', fontWeight:'bold', width:'200px'}}>\r\n                <Form>\r\n                        <label style={{color:'#ffffff', fontWeight:'bold'}}> Status </label>\r\n                        <Form.Field\r\n                        control={Select}\r\n                        options={option2}\r\n                        onChange={this.onChangedStatus}/>\r\n                        </Form>\r\n             </div>\r\n                    \r\n            <Table>\r\n                <Header>\r\n                    <Row>\r\n                        <HeaderCell>ID</HeaderCell>\r\n                        <HeaderCell>Container ID</HeaderCell>\r\n                        <HeaderCell>Halal status</HeaderCell>\r\n                        <HeaderCell>Status</HeaderCell>\r\n                        <HeaderCell>Start Date</HeaderCell>\r\n                        <HeaderCell>End Date</HeaderCell>\r\n                        <HeaderCell>Product Name</HeaderCell>\r\n                        <HeaderCell>Quantity</HeaderCell>\r\n                    </Row>\r\n                </Header>\r\n                <Body>{this.getContainerInfo()}{this.renderShow()}{this.renderShow()}</Body>\r\n            </Table>\r\n            </div>\r\n            <br></br>\r\n            <DataTable\r\n            columns={columns}\r\n            data={this.state.temp}></DataTable>\r\n            </Layout>\r\n            </div>\r\n            \r\n        );\r\n    }\r\n}\r\n\r\nexport default showCont;\r\n\r\n \r\n"]},"metadata":{},"sourceType":"module"}