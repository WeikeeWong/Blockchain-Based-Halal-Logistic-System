{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = _Reflect$construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !_Reflect$construct) return false; if (_Reflect$construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Button, Input, Table } from 'semantic-ui-react';\nimport container from '../ethereum/container';\nimport web3 from '../ethereum/web3';\n\nvar RequestDef = /*#__PURE__*/function (_Component) {\n  _inherits(RequestDef, _Component);\n\n  var _super = _createSuper(RequestDef);\n\n  function RequestDef() {\n    var _this;\n\n    _classCallCheck(this, RequestDef);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"onApprove\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var accounts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                loading: true,\n                errorMessage: ''\n              });\n\n              _context.prev = 1;\n              _context.next = 4;\n              return web3.eth.getAccounts();\n\n            case 4:\n              accounts = _context.sent;\n              _context.next = 7;\n              return container.methods.approveContainer(_this.props.id).send({\n                from: accounts[0]\n              });\n\n            case 7:\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n\n              _this.setState({\n                errorMessage: err.message\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 9]]);\n    })));\n\n    return _this;\n  }\n\n  _createClass(RequestDef, [{\n    key: \"render\",\n    value: function render() {\n      var Row = Table.Row,\n          Cell = Table.Cell;\n      var _this$props = this.props,\n          request = _this$props.request,\n          id = _this$props.id;\n      return /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Cell, null, id), /*#__PURE__*/React.createElement(Cell, null, request.ContainerNo), /*#__PURE__*/React.createElement(Cell, null, request.Description), /*#__PURE__*/React.createElement(Cell, null, request.HalalStatus), /*#__PURE__*/React.createElement(Cell, null, request.Supplier), /*#__PURE__*/React.createElement(Cell, null, request.Size), /*#__PURE__*/React.createElement(Cell, null, /*#__PURE__*/React.createElement(Button, {\n        color: \"green\",\n        basic: true,\n        onClick: this.onApprove\n      }, \" Approve \")), /*#__PURE__*/React.createElement(Cell, null, request.approved));\n    }\n  }]);\n\n  return RequestDef;\n}(Component);\n\nexport default RequestDef;","map":{"version":3,"sources":["C:/Users/User/Desktop/FYP/FYP1/HalalLogistic/components/RequestDef.js"],"names":["React","Component","Button","Input","Table","container","web3","RequestDef","setState","loading","errorMessage","eth","getAccounts","accounts","methods","approveContainer","props","id","send","from","err","message","Row","Cell","request","ContainerNo","Description","HalalStatus","Supplier","Size","onApprove","approved"],"mappings":";;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,KAAxB,QAAqC,mBAArC;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;;IAEMC,U;;;;;;;;;;;;;;;;sIAEU;AAAA;AAAA;AAAA;AAAA;AAAA;AACR,oBAAKC,QAAL,CAAc;AAAEC,gBAAAA,OAAO,EAAE,IAAX;AAAiBC,gBAAAA,YAAY,EAAE;AAA/B,eAAd;;AADQ;AAAA;AAAA,qBAIeJ,IAAI,CAACK,GAAL,CAASC,WAAT,EAJf;;AAAA;AAIFC,cAAAA,QAJE;AAAA;AAAA,qBAKFR,SAAS,CAACS,OAAV,CAAkBC,gBAAlB,CAAmC,MAAKC,KAAL,CAAWC,EAA9C,EAAkDC,IAAlD,CAAuD;AAACC,gBAAAA,IAAI,EAAEN,QAAQ,CAAC,CAAD;AAAf,eAAvD,CALE;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAOR,oBAAKL,QAAL,CAAc;AAAEE,gBAAAA,YAAY,EAAEU,GAAG,CAACC;AAApB,eAAd;;AAPQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;WAWZ,kBAAQ;AACJ,UAAOC,GAAP,GAAoBlB,KAApB,CAAOkB,GAAP;AAAA,UAAYC,IAAZ,GAAoBnB,KAApB,CAAYmB,IAAZ;AACA,wBAAsB,KAAKP,KAA3B;AAAA,UAAOQ,OAAP,eAAOA,OAAP;AAAA,UAAgBP,EAAhB,eAAgBA,EAAhB;AAEA,0BACI,oBAAC,GAAD,qBACI,oBAAC,IAAD,QAAOA,EAAP,CADJ,eAEI,oBAAC,IAAD,QAAOO,OAAO,CAACC,WAAf,CAFJ,eAGI,oBAAC,IAAD,QAAOD,OAAO,CAACE,WAAf,CAHJ,eAII,oBAAC,IAAD,QAAOF,OAAO,CAACG,WAAf,CAJJ,eAKI,oBAAC,IAAD,QAAOH,OAAO,CAACI,QAAf,CALJ,eAMI,oBAAC,IAAD,QAAOJ,OAAO,CAACK,IAAf,CANJ,eAOI,oBAAC,IAAD,qBACI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,OAAd;AAAsB,QAAA,KAAK,MAA3B;AAA4B,QAAA,OAAO,EAAE,KAAKC;AAA1C,qBADJ,CAPJ,eAUI,oBAAC,IAAD,QAAON,OAAO,CAACO,QAAf,CAVJ,CADJ;AAcH;;;;EA/BoB9B,S;;AAkCzB,eAAeM,UAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Input, Table } from 'semantic-ui-react';\r\nimport container from '../ethereum/container';\r\nimport web3 from '../ethereum/web3';\r\n\r\nclass RequestDef extends Component{\r\n\r\n    onApprove = async () => {\r\n        this.setState({ loading: true, errorMessage: '' });\r\n        try{\r\n\r\n        const accounts = await web3.eth.getAccounts();\r\n        await container.methods.approveContainer(this.props.id).send({from: accounts[0]});\r\n    } catch{\r\n        this.setState({ errorMessage: err.message });\r\n    }\r\n    };\r\n\r\n    render(){\r\n        const {Row, Cell} = Table;\r\n        const {request, id} = this.props;\r\n\r\n        return(\r\n            <Row>\r\n                <Cell>{id}</Cell>\r\n                <Cell>{request.ContainerNo}</Cell>\r\n                <Cell>{request.Description}</Cell>\r\n                <Cell>{request.HalalStatus}</Cell>\r\n                <Cell>{request.Supplier}</Cell>\r\n                <Cell>{request.Size}</Cell>\r\n                <Cell>\r\n                    <Button color='green' basic onClick={this.onApprove}> Approve </Button>\r\n                </Cell>\r\n                <Cell>{request.approved}</Cell>\r\n            </Row>\r\n        )\r\n    }\r\n}\r\n\r\nexport default RequestDef;"]},"metadata":{},"sourceType":"module"}